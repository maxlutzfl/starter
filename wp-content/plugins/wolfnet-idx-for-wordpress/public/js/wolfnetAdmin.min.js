"undefined"!=typeof jQuery&&function(a){a(document).ready(function(){"Microsoft Internet Explorer"==navigator.appName&&a("html").addClass("ie");var b=a(".post-php .icon32-posts-wolfnet_search").parent();0!=b.length&&(b.find(".add-new-h2").remove(),b.find("#submitpost #minor-publishing").remove());(function(){var b=a("#wolfnet_support_page"),d=b.find("#thumbnail_modal");if(d.length==0){d=a("<div />");d.css("text-align","center");b.append(d);d.dialog({autoOpen:false,modal:true,width:550,height:450})}b.find("a img.wolfnet_thumbnail").parent().click(function(b){var f=
a("<img />"),c=d.height()-50,e=d.width()-35;f.attr("src",a(this).attr("href"));f.attr("align","center");f.css({"max-height":c,"max-width":e,margin:"0"});f.click(function(){window.open(this.src)});d.html(f);d.dialog("open");b.preventDefault();return false});var g=function(){var b=a(window).height(),f=a(window).width();d.dialog({height:b*0.8,width:f*0.8})};g();a(window).resize(function(){g()});var b=a("#wolfnet_support_content"),e=b.find("ol:first");b.find("h3:contains(Table of Contents)").remove();
e.find("li > ol,li > ul").remove();b.tabs()})()});a.fn.wolfnetFeaturedListingsControls=function(b){a.extend({},b);var c=function(a){a.val("");a.disabled=!0;a.find("fieldset:first").slideUp("fast","swing",function(){a.hide()})};return this.each(function(){var b=a(this),g=b.find(".wolfnet_featuredListingsOptions_autoPlayField:first"),e=b.find(".wolfnet_featuredListingsOptions_autoPlayOptions:first").hide();g.change(function(){"true"==a(this).val()?(e.disabled=!1,e.show(),e.find("fieldset:first").slideDown("fast",
"swing")):c(e)});g.trigger("change")})};a.fn.wolfnetListingGridControls=function(b){a.extend({},b);var c=function(){var b=a(this),c=this.$fields;if(b.is(":checked"))switch(b.val()){case "basic":c.filter(".advanced-option").hide();c.filter(".basic-option").show();break;case "advanced":c.filter(".basic-option").hide(),c.filter(".advanced-option").show()}},d=function(){this.beenWarned||(alert("The Saved Search that was previously used for this widget no longer exists. The widget will continue to function using the same search criteria unless you change the saved search value to something other than ** DELETED **."),
this.beenWarned=!0)};return this.each(function(){var b=a(this),e=b.find("tr.basic-option,tr.advanced-option"),h=b.find(".modeField input"),f=b.find(".keyid");e.hide();h.each(function(){this.$fields=e});f.change(function(){a(this).wolfnetUpdateShortcodeControls(b)});h.click(c);h.bind("ready",c);a(document).ready(function(){h.trigger("ready")});f=b.find(".savedSearchField select:first");"deleted"==f.val()&&(f.each(function(){this.beenWarned=!1}),f.click(d),f.focus(d))})};a.fn.wolfnetValidateProductKey=
function(b){var c={validClass:"valid",invalidClass:"invalid",wrapperClass:"wolfnetProductKeyValidationWrapper",validEvent:"validProductKey",invalidEvent:"invalidProductKey",validationEvent:"validateProductKey"};a.extend(c,b);var d=function(f){var e=f.val();b.setSslVerify&&a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_set_sslverify",key:e},dataType:"json",type:"GET",cache:!1,timeout:3500});a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_validate_key",key:e},dataType:"json",type:"GET",
cache:!1,timeout:2500,success:function(a){"true"===a?f.trigger(c.validEvent):f.trigger(c.invalidEvent)},error:function(){f.trigger(c.invalidEvent);alert("Your product key appears to be formated correctly but we are unable to validate it against our servers at this time.")}})},g=function(){var b=a(this),e=b.val();""!==a.trim(e)?(e=a.trim(e),e=35==e.length||32==e.length?!0:!1,e&&d(b),e?b.trigger(c.validEvent):b.trigger(c.invalidEvent)):(b=b.parent(),b.removeClass(c.validClass),b.removeClass(c.invalidClass))},
e=function(){var b=a(this),e=b.parent(),d=e.closest("tr").find(".wolfnet_keyMarket"),h=e.closest("tr").find(".wolfnet_keyLabel"),g=b.val();e.addClass(c.validClass);e.removeClass(c.invalidClass);(""==a.trim(d.html())||""==a.trim(h.val()))&&a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_market_name",productkey:g},dataType:"json",type:"GET",cache:!1,timeout:2500,success:function(b){""==a.trim(d.html())&&d.html(b);""==a.trim(h.val())&&h.val(b);e.closest("tr").find(".wolfnet_keyMarket_value").val(b)},
error:function(){b.trigger(c.invalidEvent)}})},h=function(){var b=a(this).parent();b.addClass(c.invalidClass);b.removeClass(c.validClass)};return this.each(function(){var b=a(this);if("input"!=this.nodeName.toLowerCase())a.error("wolfnetValidateProductKey jQuery plugin can only be applied to an input element!");else{var d=a("<span/>").addClass(c.wrapperClass);b.after(d);b.appendTo(d);b.bind(c.validationEvent,g);b.bind(c.validEvent,e);b.bind(c.invalidEvent,h);b.keyup(function(){b.trigger(c.validationEvent)});
a(document).ready(function(){b.trigger(c.validationEvent)})}})};a.fn.wolfnetDeleteKeyRow=function(b){b=a(b.srcElement).attr("wnt-key");a(".row"+b).remove()};a.fn.wolfnetInsertKeyRow=function(){var b=parseInt(a("#wolfnet_keyCount").val())+1,c=a("<tr />").attr("class","row"+b),d=a("<th />").attr("scope","row"),g=c.clone().append(d.clone().html(a("<label />").attr("for","wolfnet_productKey_"+b).html("Product Key")));g.append(d.clone().html("Market Name"));g.append(d.clone().html(a("<label />").attr("for",
"wolfnet_keyLabel_"+b).html("Label")));g.append(d.clone());d=a("<td />");c=c.clone().append(d.clone().html(a("<input />").attr("id","wolfnet_productKey_"+b).attr("class","wolfnet_productKey").attr("name","wolfnet_productKey_"+b).attr("type","text").attr("value","").attr("size","50")));c.append(d.clone().html(a("<span/>").attr("class","wolfnet_keyMarket")).append(a("<input/>").attr("id","wolfnet_keyMarket_"+b).attr("name","wolfnet_keyMarket_"+b).attr("class","wolfnet_keyMarket_value").attr("type",
"hidden").attr("value","")));c.append(d.clone().html(a("<input />").attr("id","wolfnet_keyLabel_"+b).attr("name","wolfnet_keyLabel_"+b).attr("class","wolfnet_keyLabel").attr("type","text").attr("value","").attr("size","30")));c.append(d.clone().html(a("<input />").attr("class","wolfnet_deleteKey").attr("wnt-key",b).attr("type","button").attr("value","Delete").click(function(b){a.fn.wolfnetDeleteKeyRow(b)})));a("#wolfnet_keys").append(g).append(c);a("#wolfnet_keyCount").val(b);a("#wolfnet_productKey_"+
b).wolfnetValidateProductKey({rootUri:"<?php echo site_url(); ?>?pagename=wolfnet-admin-validate-key",setSslVerify:a("#wolfnet_setSslVerify").val()})};a.fn.wolfnetUpdateShortcodeControls=function(b){var c=a(b).find(".keyid").val(),d=function(b){var c=a(b).find("div.wolfnet_loaderImage:first");0==c.length?(c=a("<div/>"),c.append(a('<img src="'+wolfnet_ajax.loaderimg+'" />')),c.addClass("wolfnet_loaderImage"),c.appendTo("#"+a(b).attr("id")+" .wolfnet_prices")):c.show()};a.ajax({url:wolfnet_ajax.ajaxurl,
data:{action:"wolfnet_price_range",keyid:c},dataType:"json",type:"GET",cache:!1,timeout:1E4,statusCode:{404:function(){commFailure()}},beforeSend:function(){d(a(b));a(b).find(".pricerange").each(function(){a(this).prop("disabled",!0)})}}).error(function(a){console.log(a)}).success(function(c){a(b).find(".pricerange").html("");a(b).find(".minprice").append(a("<option />").attr("value","").html("Min. Price"));a(c.min_price.options).each(function(){a(b).find(".minprice").append(a("<option />").attr("value",
this.value).html(this.label))});a(b).find(".maxprice").append(a("<option />").attr("value","").html("Max. Price"));a(c.max_price.options).each(function(){a(b).find(".maxprice").append(a("<option />").attr("value",this.value).html(this.label))})}).always(function(){a(b).find(".pricerange").each(function(){a(this).prop("disabled",!1)});a(".wolfnet_loaderImage").hide()});a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_saved_searches",keyid:c},dataType:"json",type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},
success:function(c){c=g(c);a(b).find(".savedsearch").html("");a(b).find(".savedsearch").append(a("<option />").html("-- Saved Search --"));a(c).each(function(){a(b).find(".savedsearch").append(this)})}});a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_map_enabled",keyid:c},dataType:"json",type:"GET",cache:!1,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(c){!0==c?(a(b).find(".mapDisabled").css("display","none"),a(b).find(".maptype").removeAttr("disabled")):(a(b).find(".mapDisabled").css("display",
"block"),a(b).find(".maptype").attr("disabled","true"))}});var g=function(b){var c=[];a(b).each(function(){c.push(a("<option />").attr("value",this.ID).html(this.post_title))});return c}}}(jQuery);
