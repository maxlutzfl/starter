"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),jQuery(function(a){var b="wolfnetShortcodeBuilder",c="wolfnetShortcodeBuilder_",d="WolfNet Shortcode Builder",e=null,f=null,g=null,h=null,i={agent:{title:"Agent Pages",action:"wolfnet_scb_options_agent",shortcode:"wnt_agent"},feat:{title:"Featured Listings",action:"wolfnet_scb_options_featured",shortcode:"wnt_featured"},grid:{title:"Listing Grid",action:"wolfnet_scb_options_grid",shortcode:"wnt_grid"},list:{title:"Property List",action:"wolfnet_scb_options_list",shortcode:"wnt_list"},srch:{title:"Quick Search",action:"wolfnet_scb_options_quicksearch",shortcode:"wnt_search"}},j=function(b){null!=e&&"jQuery"==typeof e||(e=a("<div>").dialog({modal:!0,autoOpen:!1,height:600,width:600,title:d,close:function(){m("menu"),e.find("form").trigger("reset")},dialogClass:"true"==b.useDialogClass?"wolfnet_dialog":""}),k(),l())},k=function(){a.ajax({url:ajaxurl,type:"GET",dataType:"json",async:!1,data:{action:"wolfnet_scb_showagentfeature"},success:function(a){0==a&&delete i.agent}});var b="";for(var d in i)b+='<button class="button" style="display:block;width:75%;margin: 0px auto 10px auto;" ',b+='wolfnet:id="'+d+'"',b+=">",b+=i[d].title,b+="</button>";g=a('<div id="'+c+'menu"/>').append(b).appendTo(e),a('<button id="'+c+'back" class="button">Back</button>').prependTo(e).hide().click(function(){m("menu")}),g.find("button").click(function(){var b=a(this),c=b.attr("wolfnet:id");m(c)})},l=function(){h=a('<div id="'+c+'loader" />').hide().appendTo(e).css({position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"white",opacity:.5}),a('<img src="'+wolfnet_ajax.loaderimg+'" />').appendTo(h).css({display:"block",position:"absolute",left:"49%",top:"49%"})},m=function(a){0==e.find("div#"+c+a).length&&n(a),g.hide(),"menu"!=a?(e.find("button#"+c+"back").show(),e.dialog({title:d+" - "+i[a].title})):(e.find("button#"+c+"back").hide(),e.dialog({title:d})),g=e.find("div#"+c+a).show(),g.find(".modeField input").trigger("ready")},n=function(b){var d=a('<div id="'+c+b+'"/>').appendTo(e).hide();a.ajax({url:ajaxurl,data:{action:i[b].action},success:function(c){var e=a("<form />").attr("wolfnet:sc",i[b].shortcode).append(c).append(a('<button type="submit" class="button button-primary">Insert</button>')).submit(function(a){return a.preventDefault(),o.call(e),!1}).appendTo(d);switch(wolfnet.initMoreInfo(e.find(".wolfnet_moreInfo")),b){case"grid":case"list":e.wolfnetListingGridControls();break;case"feat":e.wolfnetFeaturedListingsControls()}},beforeSend:function(){h.show()},complete:function(){h.hide()}})},o=function(){p.call(this,function(a){null!=f&&f.execCommand("mceInsertContent",!1,a),e.dialog("close")})},p=function(b){var c={},d="["+this.attr("wolfnet:sc")+" /]",e=["mode","savedsearch","criteria"],f=this.find('input[type="radio"][name="mode"][value="advanced"]:first:checked'),g=this.find('select[name="savedsearch"]:first');this.find("input, select").each(function(){if(""!=this.name&&a.inArray(this.name,e)==-1)switch(this.type){default:""!=this.value.trim()&&(c[this.name]=this.value.trim());break;case"checkbox":case"radio":1==this.checked&&(c[this.name]=this.value)}}),0!=f.length&&0!=g.length?(delete c.zipcode,delete c.city,delete c.minprice,delete c.maxprice,a.ajax({url:ajaxurl,type:"GET",dataType:"json",data:{action:"wolfnet_scb_savedsearch",id:g.val()},success:function(a){for(var e in a)c[e]=a[e];q(c,d,b)},beforeSend:function(){h.show()},complete:function(){h.hide()}})):q(c,d,b)},q=function(a,b,c){for(var d in a)b=b.replace("/]"," "+d+'="'+a[d]+'" /]');c(b)},r={init:function(b){var c={useDialogClass:!0};a.extend(c,b||{}),loaderUri=c.loaderUri||null,j(c)},open:function(a){e.dialog("open"),f=a||window.tineyMCE||null}};a.fn[b]=function(c){return r[c]?r[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist in jQuery."+b):r.init.apply(this,arguments)},a(document).wolfnetShortcodeBuilder({useDialogClass:wolfnet_ajax.useDialogClass||"true"})});
//# sourceMappingURL=jquery.wolfnetShortcodeBuilder.min.js.map