"undefined"!=typeof jQuery&&!function(a,b,c,d){var e="wolfnetThumbnailScroller",f="wnt."+e,g={keyid:"",containerClass:"wnt-thumbnail-scroller",controlBtnClass:"wnt-nav-btn",hideClass:"wolfnet_hidden",hidableCtrlClass:"wnt-hidable-controls",loaderClass:"wnt-thumbnails-loader",loadingClass:"wnt-thumbnails-loading",photoType:"thumb_url",hideControls:!0,controlWidth:20,controlMinWidth:15,controlMinWidthOffset:2,controlsClass:"wnt-controls",iconClass:"wnt-icon",nextBtnClass:"wnt-next",prevBtnClass:"wnt-prev",nextIconClass:"wnt-icon-caret-right",prevIconClass:"wnt-icon-caret-left",photoSelector:".primary-photo",extraButtonClass:"",photoUnavailable:"",resizing:!1,resizeTimeout:null},h={"public":{init:function(b){var c=a.extend({},g,b);return this.each(function(){var b=a(this);b.data(f)===d&&(h["private"].options(b,c),h["private"].setupDomElements(b),h["private"].setupEventHandlers(b))}),this},next:function(){return h["public"].changeImage.call(this,"next")},previous:function(){return h["public"].changeImage.call(this,"previous")},changeImage:function(b){return b===d&&a.error("The direction argument to changeImage was expected but not received."),"next"!==b&&"previous"!==b&&a.error('The only directions supported by changeImage are "next" and "previous".'),this.each(function(){var c=a(this),d=h["private"].options(c),e=h["private"].state(c,"index")||0,f=h["private"].state(c,"photoMetadata")||null,g=h["private"].state(c,"$container"),i=g.height();if(null!==f&&f.length>1&&!h["private"].state(c,"transitioning")){h["private"].state(c,"transitioning",!0);var j=g.find("img:visible:first"),k=0;switch(b){case"next":k=e+1>f.length-1?0:e+1;break;case"previous":k=e-1<0?f.length-1:e-1}var l=f[k][d.photoType],m=g.find('img[src="'+l+'"]');0===m.length?(m=a("<img>").attr("src",l).attr("alt","property image").css("max-height",i+"px").hide().on("error",function(){a(this).attr("src",d.photoUnavailable)}).on("load",function(){h["private"].transitionPhotos(c,j,a(this),k)}),"next"==b&&0===k?a.error("Something when wrong. The 0 index photo should already be here."):"previous"==b||0===e?m.insertAfter(j):m.insertBefore(j)):h["private"].transitionPhotos(c,j,m,k)}else h["private"].state(c,"photoMetadataLoaded")||h["private"].loadPhotoMetadata(c,function(){h["public"][b].call(c)})})},showControls:function(){return this.each(function(){var b=a(this),c=h["private"].options(b),d=h["private"].controls(b);d.removeClass(c.hideClass)})},hideControls:function(){return this.each(function(){var b=a(this),c=h["private"].options(b),d=h["private"].controls(b);d.addClass(c.hideClass)})}},"private":{state:function(b,c,e){if(b.length>1&&a.error("The state method can only operate on a single element."),c!==d&&"string"==typeof c){var g=b.data(f)||{};return e!==d&&(g[c]=e,g=b.data(f,g)),g[c]}return c!==d&&b.data(f,c),b.data(f)||{}},options:function(b,c){b.length>1&&a.error("The options method can only operate on a single element.");var e=h["private"].state(b,"options")||{};return c!==d&&(e=h["private"].state(b,"options",c)),e},setupDomElements:function(a){h["private"].wrapImageElement(a),h["private"].buildControls(a)},setupEventHandlers:function(b){b.each(function(){var b=a(this),c=h["private"].options(b);"undefined"!=typeof wolfnet&&wolfnet.hasFeature("touch")&&b.addClass("has-swipe").wolfnetSwipe({direction:"horizontal"}).on("wntSwipeLeft",function(){a(this)[e]("next")}).on("wntSwipeRight",function(){a(this)[e]("previous")}),c.hideControls&&b.hover(function(){h["private"].state(b,"mouseover",!0),h["private"].state(b,"photoMetadataLoaded")?h["private"].state(b,"photoMetadata").length>1&&h["public"].showControls.call(b):h["private"].loadPhotoMetadata(b,function(){h["private"].state(b,"mouseover")&&h["private"].state(b,"photoMetadata").length>1&&h["public"].showControls.call(b)})},function(){h["private"].state(b,"mouseover",!1),c.hideControls&&h["public"].hideControls.call(b)}),h["private"].controls(b).click(function(a){h["private"].eventHandler.controlClick.call(this,a,b)}).hover(function(a){h["private"].eventHandler.controlOver.call(this,a,b)},function(a){h["private"].eventHandler.controlOut.call(this,a,b)})})},wrapImageElement:function(b){b.each(function(){var b=a(this),c=h["private"].options(b),d=b.find(c.photoSelector).first(),e=a("<span>").addClass(c.containerClass).addClass(c.hideControls?c.hidableCtrlClass:"").insertBefore(d).append(d);h["private"].state(b,"$container",e),a("<span>").addClass(c.loaderClass).appendTo(e)})},buildControls:function(b){b.each(function(){var b=a(this),c=h["private"].state(b),d=h["private"].options(b),e=c.$container,f=h["private"].buildNavBtn(b,"next"),g=h["private"].buildNavBtn(b,"prev");e.append(f).append(g),d.controlWidth=f.width(),d.hideControls&&h["public"].hideControls.call(b)})},buildNavBtn:function(b,c){b.length>1&&a.error("The buildNavBtn method can only operate on a single element.");var d=h["private"].options(b),e=a("<span>").addClass(d.iconClass),f="";switch(c){case"next":e.addClass(d.nextIconClass),f=d.nextBtnClass;break;case"prev":e.addClass(d.prevIconClass),f=d.prevBtnClass}var g=a("<button>").addClass(d.controlBtnClass).addClass(d.extraButtonClass).addClass(f).append(e);return g},controls:function(b){b.length>1&&a.error("The controls method can only operate on a single element.");var c=h["private"].state(b),d=h["private"].options(b);return c.$container.find("."+d.controlBtnClass)},loadPhotoMetadata:function(b,c){b.length>1&&a.error("The loadPhotoMetadata method can only operate on a single element."),c=c||function(){};var d=h["private"].state(b),e=h["private"].options(b);if(!d.loadingPhotos){h["private"].state(b,"loadingPhotos",!0);var f=b.find(e.photoSelector).first().data("photo-url");a.ajax({url:f,dataType:"json",data:{keyid:e.keyid},type:"get",context:b,timeout:2500,statusCode:{404:function(){commFailure()}},beforeSend:function(){d.$container.addClass(e.loadingClass)}}).always(function(){d.$container.removeClass(e.loadingClass),h["private"].state(this,"loadingPhotos",!1)}).done(function(a){h["private"].state(this,"photoMetadataLoaded",!0),h["private"].state(this,"photoMetadata",a),c()})}},transitionPhotos:function(a,b,c,d){b.fadeOut("fast",function(){c.fadeIn("fast",function(){h["private"].state(a,"index",d),h["private"].state(a,"transitioning",!1)})})},eventHandler:{controlClick:function(b,c){b.preventDefault();var d=a(this),e=h["private"].options(c);return d.is("."+e.nextBtnClass)&&h["public"].next.call(c),d.is("."+e.prevBtnClass)&&h["public"].previous.call(c),!1},controlOver:function(a,b){b.trigger("wolfnet.controlover")},controlOut:function(a,b){b.trigger("wolfnet.controlout")}}}};a.fn[e]=function(b){return h["public"][b]?h["public"][b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery."+e):h["public"].init.apply(this,arguments)}}(jQuery,document,window);
//# sourceMappingURL=jquery.wolfnetThumbnailScroller.min.js.map