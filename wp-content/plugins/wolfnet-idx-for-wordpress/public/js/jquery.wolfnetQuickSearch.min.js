"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});
"undefined"!=typeof jQuery&&function(a){a.fn.wolfnetQuickSearch=function(b){var c={defaultSearchType:"opentxt",searchTypes:{opentxt:{hint:"House #, Street, City, State, or Zip",name:"open_text"},mlsnum:{hint:"MLS Listing #",name:"property_id"}}};if(b&&"searchTypes"in b)b.searchTypes=a.extend(c.searchTypes,b.searchTypes);var e=a.extend(c,b),d=function(a,b){var c=a.attr("wolfnet:search_type");b.get(0).changeSearchType(c)},i=function(a){var b=a.prop("hint");a.val()==b&&a.val("");a.removeClass("hintText")},
j=function(a){var b=a.prop("hint");if(a.val().trim()==""||a.val()==b){a.val(b);a.addClass("hintText")}};return this.each(function(){var b=a(this),c=b.find(".wolfnet_quickSearch_form:first"),f=b.find(".wolfnet_quickSearch_searchText:first"),h=b.find("ul.wolfnet_searchType li a"),g=h.first();f.get(0).hint="";f.get(0).searchTypes=e.searchTypes;f.get(0).defaultSearchType=e.defaultSearchType;f.get(0).changeSearchType=function(b){if(!(b in this.searchTypes)||!("hint"in this.searchTypes[b])||!("name"in this.searchTypes[b]))b=
this.defaultSearchType;this.value=this.hint=this.searchTypes[b].hint;this.name=this.searchTypes[b].name;h.filter(function(){return a(this).attr("wolfnet:search_type")}).each(function(){var c=a(this);c.removeClass("wolfnet_active");c.attr("wolfnet:search_type")==b&&c.addClass("wolfnet_active")})};h.click(function(){d(a(this),f)});f.focus(function(){i(a(this))});f.blur(function(){j(a(this))});c.submit(function(){i(f)});d(g,f);j(f);a(window).resize(function(){if(b.width()>230){b.removeClass("wolfnet_wNarrow");
b.addClass("wolfnet_wWide")}else{b.removeClass("wolfnet_wWide");b.addClass("wolfnet_wNarrow")}});a(window).trigger("resize")})};a.fn.toggleQuickSearchFields=function(b,c){var e=["open_text","min_price","max_price","min_bedrooms","min_bathrooms","search"],d;for(d in e)a("#"+b+" [name="+e[d]+"]").prop("disabled",c)};a.fn.rebuildQuickSearchOptions=function(b,c){a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_base_url",keyid:c},dataType:"json",type:"GET",async:false,cache:false,timeout:2500,statusCode:{404:function(){commFailure()}},
success:function(c){a("#"+b).attr("action",c)}});a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_price_range",keyid:c},dataType:"json",type:"GET",cache:false,timeout:2500,statusCode:{404:function(){commFailure()}},success:function(c){var d=g(c.min_price.options),c=g(c.max_price.options);a("#"+b+" [name=min_price], #"+b+" [name=max_price]").html("");a("#"+b+" [name=max_price]").append(a("<option />").attr("value","").html("Max. Price"));a("#"+b+" [name=min_price]").append(a("<option />").attr("value",
"").html("Min. Price"));a(d).each(function(){a("#"+b+" [name=min_price]").append(this)});a(c).each(function(){a("#"+b+" [name=max_price]").append(this)})}})};a.fn.routeQuickSearch=function(b){for(var c={},e=a(b).serializeArray(),d=0;d<e.length;d++)c[e[d].name]=e[d].value;k(b);a.ajax({url:wolfnet_ajax.ajaxurl,data:{action:"wolfnet_route_quicksearch",formData:c},dataType:"json",type:"GET",async:true,tryCount:0,retryLimit:3,cache:false,statusCode:{404:function(){commFailure()}},error:function(b,c){if(c==
"timeout"){this.tryCount++;this.tryCount<this.retryLimit&&a.ajax(this)}},success:function(a){window.location.href=a;return false}})};var k=function(b){var c=a(b).find("div.wolfnet_loaderImage:first");if(c.length==0){c=a("<div/>");c.append(a('<img src="'+wolfnet_ajax.loaderimg+'" />'));c.addClass("wolfnet_loaderImage");var e=a("<div/>").addClass("wolfnet_loaderOverlay");c.insertAfter("#"+a(b).attr("id")+" .wolfnet_quickSearchFormButton");e.appendTo(b)}a(b).find(":input").prop("disabled",true)},g=function(b){var c=
[];a(b).each(function(){c.push(a("<option />").attr("value",this.value).html(this.label))});return c}}(jQuery);
